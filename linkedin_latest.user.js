// ==UserScript==
// @name       [FT] LinkedIn
// @namespace  https://github.com/folktroll/
// @version    25.3.27.919
// @author     Folky
// @license    MIT
// @icon       https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Linkedin_icon.svg/240px-Linkedin_icon.svg.png
// @updateURL  https://raw.githubusercontent.com/Folktroll/uscripts/refs/heads/main/linkedin_latest.user.js
// @match      https://*.linkedin.com/*
// @match      https://linkedin.com/*
// @grant      GM.xmlHttpRequest
// @grant      GM_addStyle
// @grant      GM_getResourceText
// @grant      GM_getValue
// @grant      GM_registerMenuCommand
// @grant      GM_setClipboard
// @grant      GM_setValue
// @run-at     document-start
// ==/UserScript==

(t=>{if(typeof GM_addStyle=="function"){GM_addStyle(t);return}const i=document.createElement("style");i.textContent=t,document.head.append(i)})(" .toastify{padding:12px 20px;color:#fff;display:inline-block;box-shadow:0 3px 6px -1px #0000001f,0 10px 36px -4px #4d60e84d;background:-webkit-linear-gradient(315deg,#73a5ff,#5477f5);background:linear-gradient(135deg,#73a5ff,#5477f5);position:fixed;opacity:0;transition:all .4s cubic-bezier(.215,.61,.355,1);border-radius:2px;cursor:pointer;text-decoration:none;max-width:calc(50% - 20px);z-index:2147483647}.toastify.on{opacity:1}.toast-close{background:transparent;border:0;color:#fff;cursor:pointer;font-family:inherit;font-size:1em;opacity:.4;padding:0 5px}.toastify-right{right:15px}.toastify-left{left:15px}.toastify-top{top:-150px}.toastify-bottom{bottom:-150px}.toastify-rounded{border-radius:25px}.toastify-avatar{width:1.5em;height:1.5em;margin:-7px 5px;border-radius:2px}.toastify-center{margin-left:auto;margin-right:auto;left:0;right:0;max-width:fit-content;max-width:-moz-fit-content}@media only screen and (max-width: 360px){.toastify-right,.toastify-left{margin-left:auto;margin-right:auto;left:0;right:0;max-width:fit-content}} ");

(function () {
	'use strict';

	function F(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var w={exports:{}};var $=w.exports,M;function q(){return M||(M=1,function(o){(function(t,e){o.exports?o.exports=e():t.Toastify=e();})($,function(t){var e=function(i){return new e.lib.init(i)},s="1.12.0";e.defaults={oldestFirst:true,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:false,close:false,gravity:"toastify-top",positionLeft:false,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:true,onClick:function(){},offset:{x:0,y:0},escapeMarkup:true,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:s,constructor:e,init:function(i){return i||(i={}),this.options={},this.toastElement=null,this.options.text=i.text||e.defaults.text,this.options.node=i.node||e.defaults.node,this.options.duration=i.duration===0?0:i.duration||e.defaults.duration,this.options.selector=i.selector||e.defaults.selector,this.options.callback=i.callback||e.defaults.callback,this.options.destination=i.destination||e.defaults.destination,this.options.newWindow=i.newWindow||e.defaults.newWindow,this.options.close=i.close||e.defaults.close,this.options.gravity=i.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=i.positionLeft||e.defaults.positionLeft,this.options.position=i.position||e.defaults.position,this.options.backgroundColor=i.backgroundColor||e.defaults.backgroundColor,this.options.avatar=i.avatar||e.defaults.avatar,this.options.className=i.className||e.defaults.className,this.options.stopOnFocus=i.stopOnFocus===void 0?e.defaults.stopOnFocus:i.stopOnFocus,this.options.onClick=i.onClick||e.defaults.onClick,this.options.offset=i.offset||e.defaults.offset,this.options.escapeMarkup=i.escapeMarkup!==void 0?i.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=i.ariaLive||e.defaults.ariaLive,this.options.style=i.style||e.defaults.style,i.backgroundColor&&(this.options.style.background=i.backgroundColor),this},buildToast:function(){if(!this.options)throw "Toastify is not initialized";var i=document.createElement("div");i.className="toastify on "+this.options.className,this.options.position?i.className+=" toastify-"+this.options.position:this.options.positionLeft===true?(i.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):i.className+=" toastify-right",i.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var a in this.options.style)i.style[a]=this.options.style[a];if(this.options.ariaLive&&i.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)i.appendChild(this.options.node);else if(this.options.escapeMarkup?i.innerText=this.options.text:i.innerHTML=this.options.text,this.options.avatar!==""){var l=document.createElement("img");l.src=this.options.avatar,l.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===true?i.appendChild(l):i.insertAdjacentElement("afterbegin",l);}if(this.options.close===true){var c=document.createElement("button");c.type="button",c.setAttribute("aria-label","Close"),c.className="toast-close",c.innerHTML="&#10006;",c.addEventListener("click",function(y){y.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue);}.bind(this));var d=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===true)&&d>360?i.insertAdjacentElement("afterbegin",c):i.appendChild(c);}if(this.options.stopOnFocus&&this.options.duration>0){var u=this;i.addEventListener("mouseover",function(y){window.clearTimeout(i.timeOutValue);}),i.addEventListener("mouseleave",function(){i.timeOutValue=window.setTimeout(function(){u.removeElement(i);},u.options.duration);});}if(typeof this.options.destination<"u"&&i.addEventListener("click",function(y){y.stopPropagation(),this.options.newWindow===true?window.open(this.options.destination,"_blank"):window.location=this.options.destination;}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&i.addEventListener("click",function(y){y.stopPropagation(),this.options.onClick();}.bind(this)),typeof this.options.offset=="object"){var h=r("x",this.options),p=r("y",this.options),T=this.options.position=="left"?h:"-"+h,j=this.options.gravity=="toastify-top"?p:"-"+p;i.style.transform="translate("+T+","+j+")";}return i},showToast:function(){this.toastElement=this.buildToast();var i;if(typeof this.options.selector=="string"?i=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?i=this.options.selector:i=document.body,!i)throw "Root element is not defined";var a=e.defaults.oldestFirst?i.firstChild:i.lastChild;return i.insertBefore(this.toastElement,a),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement);}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement);},removeElement:function(i){i.className=i.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),i.parentNode&&i.parentNode.removeChild(i),this.options.callback.call(i),e.reposition();}.bind(this),400);}},e.reposition=function(){for(var i={top:15,bottom:15},a={top:15,bottom:15},l={top:15,bottom:15},c=document.getElementsByClassName("toastify"),d,u=0;u<c.length;u++){n(c[u],"toastify-top")===true?d="toastify-top":d="toastify-bottom";var h=c[u].offsetHeight;d=d.substr(9,d.length-1);var p=15,T=window.innerWidth>0?window.innerWidth:screen.width;T<=360?(c[u].style[d]=l[d]+"px",l[d]+=h+p):n(c[u],"toastify-left")===true?(c[u].style[d]=i[d]+"px",i[d]+=h+p):(c[u].style[d]=a[d]+"px",a[d]+=h+p);}return this};function r(i,a){return a.offset[i]?isNaN(a.offset[i])?a.offset[i]:a.offset[i]+"px":"0px"}function n(i,a){return !i||typeof a!="string"?false:!!(i.className&&i.className.trim().split(/\s+/gi).indexOf(a)>-1)}return e.lib.init.prototype=e.lib,e});}(w)),w.exports}var H=q();const k=F(H);function V(o){const t=o.trim();if(!t)return new Headers;const e=t.split(`\r
`).map(s=>{let r=s.split(":");return [r[0].trim(),r[1].trim()]});return new Headers(e)}function z(o,t){const e=V(t.responseHeaders),s=typeof t.response=="string"?new Blob([t.response],{type:e.get("Content-Type")||"text/plain"}):t.response;return new _(s,{statusCode:t.status,statusText:t.statusText,headers:e,finalUrl:t.finalUrl,redirected:t.finalUrl===o.url})}class _{constructor(t,e){this.rawBody=t,this.init=e,this.body=t.stream();const{headers:s,statusCode:r,statusText:n,finalUrl:i,redirected:a}=e;this.headers=s,this.status=r,this.statusText=n,this.url=i,this.type="basic",this.redirected=a,this._bodyUsed=false;}get bodyUsed(){return this._bodyUsed}get ok(){return this.status<300}arrayBuffer(){if(this.bodyUsed)throw new TypeError("Failed to execute 'arrayBuffer' on 'Response': body stream already read");return this._bodyUsed=true,this.rawBody.arrayBuffer()}blob(){if(this.bodyUsed)throw new TypeError("Failed to execute 'blob' on 'Response': body stream already read");return this._bodyUsed=true,Promise.resolve(this.rawBody.slice(0,this.rawBody.size,this.rawBody.type))}clone(){if(this.bodyUsed)throw new TypeError("Failed to execute 'clone' on 'Response': body stream already read");return new _(this.rawBody,this.init)}formData(){if(this.bodyUsed)throw new TypeError("Failed to execute 'formData' on 'Response': body stream already read");return this._bodyUsed=true,this.rawBody.text().then(W)}async json(){if(this.bodyUsed)throw new TypeError("Failed to execute 'json' on 'Response': body stream already read");return this._bodyUsed=true,JSON.parse(await this.rawBody.text())}text(){if(this.bodyUsed)throw new TypeError("Failed to execute 'text' on 'Response': body stream already read");return this._bodyUsed=true,this.rawBody.text()}async bytes(){if(this.bodyUsed)throw new TypeError("Failed to execute 'bytes' on 'Response': body stream already read");return this._bodyUsed=true,new Uint8Array(await this.rawBody.arrayBuffer())}}function W(o){const t=new FormData;return o.trim().split("&").forEach(function(e){if(e){const s=e.split("="),r=s.shift()?.replace(/\+/g," "),n=s.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n));}}),t}async function X(o,t){const e=new Request(o,t);let s;return t?.body&&(s=await e.text()),await Y(e,t,s)}function Y(o,t,e){return new Promise((s,r)=>{if(o.signal&&o.signal.aborted)return r(new DOMException("Aborted","AbortError"));GM.xmlHttpRequest({url:o.url,method:Q(o.method.toUpperCase()),headers:Object.fromEntries(new Headers(t?.headers).entries()),data:e,responseType:"blob",onload(n){try{s(z(o,n));}catch(i){r(i);}},onabort(){r(new DOMException("Aborted","AbortError"));},ontimeout(){r(new TypeError("Network request failed, timeout"));},onerror(n){r(new TypeError("Failed to fetch: "+n.finalUrl));}});})}const J=["GET","POST","PUT","DELETE","PATCH","HEAD","TRACE","OPTIONS","CONNECT"];function Z(o,t){return o.includes(t)}function Q(o){if(Z(J,o))return o;throw new Error(`unsupported http method ${o}`)}function g(){return g=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)({}).hasOwnProperty.call(e,s)&&(o[s]=e[s]);}return o},g.apply(null,arguments)}const U=navigator.userAgent.includes("Macintosh"),ee=["m","c","s","a"],D={ctrl:"c",control:"c",shift:"s",alt:"a",meta:"m",cmd:"m"},te=g({},D,{c:"c",s:"s",a:"a",m:"m",cm:U?"m":"c",ctrlcmd:U?"m":"c"}),oe={arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",cr:"enter",escape:"esc"," ":"space"};function R(){return {children:new Map,shortcuts:new Set}}function ie(o,t,e){let s=o;for(const r of t){let n=s.children.get(r);n||(n=R(),s.children.set(r,n)),s=n;}s.shortcuts.add(e);}function se(o,t){let e=o;for(const s of t)if(e=e.children.get(s),!e)break;return e}function ne(o,t,e){let s=o;const r=[s];for(const i of t){if(s=s.children.get(i),!s)return;r.push(s);}e?s.shortcuts.delete(e):s.shortcuts.clear();let n=r.length-1;for(;n>0&&(s=r[n],!(s.shortcuts.size||s.children.size));)r[n-1].children.delete(t[n-1]),n-=1;}function re(o){const t=[],e=(s,r=0)=>{for(const[n,i]of s.children.entries())t.push(["  ".repeat(r),n,i.shortcuts.size?` (${i.shortcuts.size})`:""].join("")),e(i,r+1);};return e(o),t.join(`
`)}class ae{constructor(t){this.listeners=[],this.value=t;}get(){return this.value}set(t){this.value=t,this.listeners.forEach(e=>e(t));}subscribe(t){return this.listeners.push(t),t(this.value),()=>this.unsubscribe(t)}unsubscribe(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1);}}function b(o){const{caseSensitive:t,modifierState:e}=o;let{base:s}=o;(!t||s.length>1)&&(s=s.toLowerCase()),s=oe[s]||s;const r=[...ee.filter(n=>e[n]),s].filter(Boolean).join("-");return `${t?"":"i:"}${r}`}function le(o){const t=o.split(/-(.)/),e=[t[0]];for(let s=1;s<t.length;s+=2)e.push(t[s]+t[s+1]);return e}function ce(o,t){const e=le(o),s=e.pop(),r={};for(const n of e){const i=te[n.toLowerCase()];if(!i)throw new Error(`Unknown modifier key: ${n}`);r[i]=true;}return t&&(t=!(r.a||r.s)),{base:s,modifierState:r,caseSensitive:t}}function de(o){return Array.isArray(o)?o:o.split(/\s+/)}function ue(o,t){return de(o).map(e=>ce(e,t))}function fe(o){return o.split("&&").map(t=>{if(t=t.trim(),!!t)return t[0]==="!"?{not:true,field:t.slice(1).trim()}:{not:false,field:t}}).filter(Boolean)}class x{constructor(t){this._context={},this._conditionData={},this._data=[],this._root=R(),this.sequence=new ae([]),this._timer=0,this._reset=()=>{this._cur=void 0,this.sequence.set([]),this._resetTimer();},this.handleKey=e=>{if(!e.key||D[e.key.toLowerCase()])return;this._resetTimer();const s=[b({base:e.key,modifierState:{c:e.ctrlKey,m:e.metaKey},caseSensitive:true}),b({base:e.code,modifierState:{c:e.ctrlKey,s:e.shiftKey,a:e.altKey,m:e.metaKey},caseSensitive:false}),b({base:e.key,modifierState:{c:e.ctrlKey,s:e.shiftKey,a:e.altKey,m:e.metaKey},caseSensitive:false})],r=this._handleKeyOnce(s,false);r&&(e.preventDefault(),r===2&&this._reset()),this._timer=window.setTimeout(this._reset,this.options.sequenceTimeout);},this.options=g({},x.defaultOptions,t);}_resetTimer(){this._timer&&(window.clearTimeout(this._timer),this._timer=0);}_addCondition(t){let e=this._conditionData[t];if(!e){const s=fe(t);e={count:0,value:s,result:this._evalCondition(s)},this._conditionData[t]=e;}e.count+=1;}_removeCondition(t){const e=this._conditionData[t];e&&(e.count-=1,e.count||delete this._conditionData[t]);}_evalCondition(t){return t.every(e=>{let s=this._context[e.field];return e.not&&(s=!s),s})}_checkShortcut(t){const e=t.condition&&this._conditionData[t.condition],s=!e||e.result;t.enabled!==s&&(t.enabled=s,this._enableShortcut(t));}_enableShortcut(t){(t.enabled?ie:ne)(this._root,t.sequence,t);}enable(){this.disable(),document.addEventListener("keydown",this.handleKey);}disable(){document.removeEventListener("keydown",this.handleKey);}register(t,e,s){const{caseSensitive:r,condition:n}=g({caseSensitive:false},s),a={sequence:ue(t,r).map(l=>b(l)),condition:n,callback:e,enabled:false,caseSensitive:r};return n&&this._addCondition(n),this._checkShortcut(a),this._data.push(a),()=>{const l=this._data.indexOf(a);l>=0&&(this._data.splice(l,1),n&&this._removeCondition(n),a.enabled=false,this._enableShortcut(a));}}setContext(t,e){this._context[t]=e;for(const s of Object.values(this._conditionData))s.result=this._evalCondition(s.value);for(const s of this._data)this._checkShortcut(s);}_handleKeyOnce(t,e){var s,r;let n=this._cur;if((e||!n)&&(e=true,n=this._root),n){let a;for(const l of t)if(a=se(n,[l]),a){this.sequence.set([...this.sequence.get(),l]);break}n=a;}this._cur=n;const[i]=[...((s=n)==null?void 0:s.shortcuts)||[]];if(!e&&!i&&!((r=n)!=null&&r.children.size))return this._reset(),this._handleKeyOnce(t,true);if(i){try{i.callback();}catch{}return 2}return this._cur?1:0}repr(){return re(this._root)}}x.defaultOptions={sequenceTimeout:500};let v;function he(){return v||(v=new x,v.enable()),v}const pe=(...o)=>he().register(...o);var G={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",·∫§:"A",·∫Æ:"A",·∫≤:"A",·∫¥:"A",·∫∂:"A",√Ü:"AE",·∫¶:"A",·∫∞:"A",»Ç:"A",√á:"C",·∏à:"C",√à:"E",√â:"E",√ä:"E",√ã:"E",·∫æ:"E",·∏ñ:"E",·ªÄ:"E",·∏î:"E",·∏ú:"E",»Ü:"E",√å:"I",√ç:"I",√é:"I",√è:"I",·∏Æ:"I",»ä:"I",√ê:"D",√ë:"N",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",·ªê:"O",·πå:"O",·πí:"O",»é:"O",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√ù:"Y",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",·∫•:"a",·∫Ø:"a",·∫≥:"a",·∫µ:"a",·∫∑:"a",√¶:"ae",·∫ß:"a",·∫±:"a",»É:"a",√ß:"c",·∏â:"c",√®:"e",√©:"e",√™:"e",√´:"e",·∫ø:"e",·∏ó:"e",·ªÅ:"e",·∏ï:"e",·∏ù:"e",»á:"e",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",·∏Ø:"i",»ã:"i",√∞:"d",√±:"n",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",·ªë:"o",·πç:"o",·πì:"o",»è:"o",√π:"u",√∫:"u",√ª:"u",√º:"u",√Ω:"y",√ø:"y",ƒÄ:"A",ƒÅ:"a",ƒÇ:"A",ƒÉ:"a",ƒÑ:"A",ƒÖ:"a",ƒÜ:"C",ƒá:"c",ƒà:"C",ƒâ:"c",ƒä:"C",ƒã:"c",ƒå:"C",ƒç:"c",CÃÜ:"C",cÃÜ:"c",ƒé:"D",ƒè:"d",ƒê:"D",ƒë:"d",ƒí:"E",ƒì:"e",ƒî:"E",ƒï:"e",ƒñ:"E",ƒó:"e",ƒò:"E",ƒô:"e",ƒö:"E",ƒõ:"e",ƒú:"G",«¥:"G",ƒù:"g",«µ:"g",ƒû:"G",ƒü:"g",ƒ†:"G",ƒ°:"g",ƒ¢:"G",ƒ£:"g",ƒ§:"H",ƒ•:"h",ƒ¶:"H",ƒß:"h",·∏™:"H",·∏´:"h",ƒ®:"I",ƒ©:"i",ƒ™:"I",ƒ´:"i",ƒ¨:"I",ƒ≠:"i",ƒÆ:"I",ƒØ:"i",ƒ∞:"I",ƒ±:"i",ƒ≤:"IJ",ƒ≥:"ij",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",·∏∞:"K",·∏±:"k",KÃÜ:"K",kÃÜ:"k",ƒπ:"L",ƒ∫:"l",ƒª:"L",ƒº:"l",ƒΩ:"L",ƒæ:"l",ƒø:"L",≈Ä:"l",≈Å:"l",≈Ç:"l",·∏æ:"M",·∏ø:"m",MÃÜ:"M",mÃÜ:"m",≈É:"N",≈Ñ:"n",≈Ö:"N",≈Ü:"n",≈á:"N",≈à:"n",≈â:"n",NÃÜ:"N",nÃÜ:"n",≈å:"O",≈ç:"o",≈é:"O",≈è:"o",≈ê:"O",≈ë:"o",≈í:"OE",≈ì:"oe",PÃÜ:"P",pÃÜ:"p",≈î:"R",≈ï:"r",≈ñ:"R",≈ó:"r",≈ò:"R",≈ô:"r",RÃÜ:"R",rÃÜ:"r",»í:"R",»ì:"r",≈ö:"S",≈õ:"s",≈ú:"S",≈ù:"s",≈û:"S",»ò:"S",»ô:"s",≈ü:"s",≈†:"S",≈°:"s",≈¢:"T",≈£:"t",»õ:"t",»ö:"T",≈§:"T",≈•:"t",≈¶:"T",≈ß:"t",TÃÜ:"T",tÃÜ:"t",≈®:"U",≈©:"u",≈™:"U",≈´:"u",≈¨:"U",≈≠:"u",≈Æ:"U",≈Ø:"u",≈∞:"U",≈±:"u",≈≤:"U",≈≥:"u",»ñ:"U",»ó:"u",VÃÜ:"V",vÃÜ:"v",≈¥:"W",≈µ:"w",·∫Ç:"W",·∫É:"w",XÃÜ:"X",xÃÜ:"x",≈∂:"Y",≈∑:"y",≈∏:"Y",YÃÜ:"Y",yÃÜ:"y",≈π:"Z",≈∫:"z",≈ª:"Z",≈º:"z",≈Ω:"Z",≈æ:"z",≈ø:"s",∆í:"f",∆†:"O",∆°:"o",∆Ø:"U",∆∞:"u",«ç:"A",«é:"a",«è:"I",«ê:"i",«ë:"O",«í:"o",«ì:"U",«î:"u",«ï:"U",«ñ:"u",«ó:"U",«ò:"u",«ô:"U",«ö:"u",«õ:"U",«ú:"u",·ª®:"U",·ª©:"u",·π∏:"U",·ππ:"u",«∫:"A",«ª:"a",«º:"AE",«Ω:"ae",«æ:"O",«ø:"o",√û:"TH",√æ:"th",·πî:"P",·πï:"p",·π§:"S",·π•:"s",XÃÅ:"X",xÃÅ:"x",–É:"–ì",—ì:"–≥",–å:"–ö",—ú:"–∫",AÃã:"A",aÃã:"a",EÃã:"E",eÃã:"e",IÃã:"I",iÃã:"i",«∏:"N",«π:"n",·ªí:"O",·ªì:"o",·πê:"O",·πë:"o",·ª™:"U",·ª´:"u",·∫Ä:"W",·∫Å:"w",·ª≤:"Y",·ª≥:"y",»Ä:"A",»Å:"a",»Ñ:"E",»Ö:"e",»à:"I",»â:"i",»å:"O",»ç:"o",»ê:"R",»ë:"r",»î:"U",»ï:"u",BÃå:"B",bÃå:"b",ƒåÃ£:"C",ƒçÃ£:"c",√äÃå:"E",√™Ãå:"e",FÃå:"F",fÃå:"f",«¶:"G",«ß:"g",»û:"H",»ü:"h",JÃå:"J",«∞:"j",«®:"K",«©:"k",MÃå:"M",mÃå:"m",PÃå:"P",pÃå:"p",QÃå:"Q",qÃå:"q",≈òÃ©:"R",≈ôÃ©:"r",·π¶:"S",·πß:"s",VÃå:"V",vÃå:"v",WÃå:"W",wÃå:"w",XÃå:"X",xÃå:"x",YÃå:"Y",yÃå:"y",AÃß:"A",aÃß:"a",BÃß:"B",bÃß:"b",·∏ê:"D",·∏ë:"d",»®:"E",»©:"e",∆êÃß:"E",…õÃß:"e",·∏®:"H",·∏©:"h",IÃß:"I",iÃß:"i",∆óÃß:"I",…®Ãß:"i",MÃß:"M",mÃß:"m",OÃß:"O",oÃß:"o",QÃß:"Q",qÃß:"q",UÃß:"U",uÃß:"u",XÃß:"X",xÃß:"x",ZÃß:"Z",zÃß:"z"},ye=Object.keys(G).join("|"),me=new RegExp(ye,"g");const ge=o=>G[o],be=o=>o.replace(me,ge);var ve=typeof GM_addStyle<"u"?GM_addStyle:void 0,we=typeof GM_getResourceText<"u"?GM_getResourceText:void 0,Ee=typeof GM_getValue<"u"?GM_getValue:void 0,C=typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:void 0,m=typeof GM_setClipboard<"u"?GM_setClipboard:void 0,Ce=typeof GM_setValue<"u"?GM_setValue:void 0;(()=>{if(globalThis.trustedTypes&&trustedTypes.createPolicy&&!trustedTypes.defaultPolicy){const o=t=>t;trustedTypes.createPolicy("default",{createHTML:o,createScriptURL:o,createScript:o});}})();let f=false,I={url:globalThis.location.href,html:""};const E={};let L=document.location.href;const xe={"Daglig leder":"CEO","Styrets leder":"Chairman",Styremedlem:"Board Member",Varamedlem:"Deputy Board Member",Nestleder:"Deputy Chairman","Verkst√§llande direkt√∂r":"CEO",Ordf√∂rande:"Chairman",Ledamot:"Board Member",Suppleant:"Deputy Board Member","Extern verkst√§llande direkt√∂r":"CEO","Extern vice verkst√§llande direkt√∂r":"Deputy CEO",Owner:"owner",Founder:"founder",gr√ºnder:"founder",salgssjef:"Sales Manager",salgsleder:"Sales Manager",salgsrepresentant:"Sales Representative","salgs representant":"Sales Representative",markedssjef:"Marketing Manager",Avdelingsleder:"Head of Department",Gruppeleder:"Team Leader",R√•dgiver:"Adviser",Analytiker:"Analyst","Member of the Board":"Board Member",Styreleder:"Chairman","Administrerende direkt√∏r":"CEO","Adm. dir.":"CEO",prosjektleder:"Project Manager",Prosjektleder:"Project Manager","Teknisk sjef":"Technical Manager",Salgsdirektor:"Sales Director",Avdelingssjef:"Head of Department",√òkonomisjef:"Finance Manager",Okonomisjef:"Finance Manager"},Te={AE:"Ae"},O=()=>Ee("apiKey")??"",ke=()=>{const o=O();return o.length===152?true:(console.log("Invalid API key length:",o.length),false)};C(`${ke()?"üòé":"üòû"} Set API key`,()=>{const o=prompt("API key:",O());Ce("apiKey",o),console.log("New API key set.");});C("ü™≥ Copy debug info",()=>{m(JSON.stringify(I));});ve(we("toastifyCSS")+"div.toastify { margin-top: 120px; width: inherit; font-family: Calibri, Candara, Segoe, Segoe UI, Optima, Arial, sans-serif; }");pe("a-c-c",()=>{const o=S();if(o===void 0){console.log("No profile found.");return}const t=k({text:`üëç ${o.name}: ${o.totalExp} positions`,duration:1e4,gravity:"bottom",stopOnFocus:true,style:{padding:"5px",background:"rgb(0, 65, 130, 0.9)",color:"#ddd","font-weight":"500","border-radius":"50px","min-width":"300px","text-align":"center","font-variant":"small-caps"},onClick:()=>{m(o?.copyStr??""),t.hideToast();}});t.showToast(),m(o?.copyStr??"");});const K=()=>document.location.pathname.split("/")?.at(2),S=()=>{const o=K();if(o===void 0)return;Object.prototype.hasOwnProperty.call(E,`${o}`)||(console.log("Creating empty profile cache"),E[o]={totalExp:0,copyStr:""});const t=E?.[o]??void 0;return console.log("Current profile:",t),t},B=(o,t,e)=>{console.log("fn parseData()"),I={url:globalThis.location.href,html:o.outerHTML};let s="";console.log("RAW fetch:",o);let r=0;for(const n of o?.querySelectorAll(":scope > li.profile-entity-lockup")??[])if(++r,n.classList.contains("grouped")===false){const a=n.querySelector("div.self-center > div:nth-child(2)")?.textContent?.trim()??"[n/a]",l=n.querySelector("div.self-center > div:nth-child(1)")?.textContent?.trim()??"[n/a]",c=n.querySelectorAll("div.self-center > div:nth-child(3) > span");let d=`${c[0]?.textContent??""}${c[1]?.textContent??""}`.trim();d===""&&(d="[n/a]"),f&&console.log("LOCAL DEBUG [1]",r,a,l,d),s+=N(a,l,d);}else {const a=n.querySelector("div.list-item-heading")?.textContent?.trim()??"[n/a]";for(const l of n.querySelectorAll("ul > li > div:nth-child(2)")??[]){const c=l.querySelector("div:nth-child(1)")?.textContent?.trim()??"[n/a]";console.log("position:",c,l);const d=l.querySelectorAll("div:nth-child(2) > span");let u=`${d[0]?.textContent??""}${d[1]?.textContent??""}`.trim();u===""&&(u="[n/a]"),f&&console.log("LOCAL DEBUG [2]",r,a,c,u),s+=N(a,c,u);}}if(s===""){console.log("–ü—Ä–æ–±–ª–µ–º —Å –∏–∑–≤–ª–∏—á–∞–Ω–µ—Ç–æ. exp:",o);return}e&&(e.name=t,e.copyStr=_e(s),e.totalExp=e.copyStr.split(`\r
`).length-1,f&&(console.log("LOCAL DEBUG Total exp:",e.totalExp),console.log(`LOCAL DEBUG Copy here:
${e.copyStr}`)),P(),C(`${e.name}: Copy all ${e.totalExp} positions`,()=>{m(e.copyStr);}),C(`${e.name}: Retry scraping`,()=>{A(),m(e.copyStr);}));},A=async()=>{if(!document.location.href.includes("linkedin.com/in")||document.location.href.includes(".html"))return;f&&console.log("fetchData()");const o=O();if(o===""){k({text:"üòû Missing API key",duration:3e3,gravity:"bottom"}).showToast();return}const t=S();if(t===void 0){console.log("No profile found.");return}if(t.copyStr.length>0){P(),console.log("Already scraped.");return}const e=K();if(e===void 0){console.log("Invalid profile URL");return}const s=decodeURIComponent(e);if(s.length>0)console.log("Slug:",s);else {console.log("No slug specified");return}console.log("Start fetching:",`https://www.linkedin.com/in/${s}/`);const r=await X(`https://www.linkedin.com/in/${s}/`,{method:"GET",headers:{"Content-Type":"text/html; charset=utf-8","User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",Cookie:`li_at=${o}`,"Accept-Encoding":"gzip, deflate, br"}});if(r.ok)console.log("Fetching finished.");else {console.error("Error:",r.status,r.statusText);return}const n=await r.text();let i;const a=new globalThis.DOMParser;try{i=a.parseFromString(n,"text/html");}catch(d){console.log("Err:",d);return}if(console.log("Success:",i,r,n),i===void 0)return;const l=i?.querySelector("section.experience-container > ol"),c=i?.querySelector("h1.heading-large")?.textContent?.trim();console.log("Fetching finished 2:",c,l),l&&c!==void 0&&B(l,c,t);},N=(o,t,e)=>{o.includes("¬∑")&&(o=o.slice(0,Math.max(0,o.indexOf("¬∑"))).trim()),e.includes("¬∑")&&(e=e.slice(0,Math.max(0,e.indexOf("¬∑"))).trim()),t=t.replaceAll(/[_]+/g,""),e=e.replaceAll(/[^0-9-]+/g,""),e=e.replace(/(\d{4})-\1/,"$1");let s=`- ${o.trim()}, ${t.trim()}, ${e.trim()??"n/a"}`;return s=s.replaceAll(/\s+/g," ")+`\r
`,s},_e=o=>{for(const[t,e]of Object.entries(xe))o=o.replaceAll(t,e);o=be(o);for(const[t,e]of Object.entries(Te))o=o.replaceAll(t,e);return o},P=()=>{console.log("üç∫ Profiles info:",E);const o=S();if(o===void 0){console.log("No profile found.");return}console.log(`Text is ready:
${o.copyStr}`);const t=k({text:`<b><i>${o.name}</i></b>: ${o.totalExp} exp.`,duration:1e4,stopOnFocus:true,escapeMarkup:false,close:false,gravity:"top",position:"right",style:{padding:"10px",background:"rgb(5, 118, 66, 0.8)",color:"#ddd","font-weight":"500","border-radius":"50px","min-width":"300px","text-align":"center","font-variant":"small-caps",selector:"div.application-outlet"},onClick:function(){m(o.copyStr),t.hideToast();}});t.showToast();};if(document.readyState==="complete"&&(f=true,f&&console.log("Local document loaded"),document.location.protocol==="file:")){f&&console.log("Protocol: [file:]");const o=document.querySelector("ol");o&&B(o,"–ë–µ–∑ –ò–º–µ–Ω",{copyStr:"",totalExp:0});}globalThis.addEventListener("load",()=>{new MutationObserver(()=>{L!==document.location.href&&(L=document.location.href,console.log("URL Changed!"),A());}).observe(document.body,{subtree:true,childList:true});});A();

})();